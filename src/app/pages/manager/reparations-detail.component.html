<div class="p-4">
  <h3 class="text-lg font-bold mb-2">{{ reparation.voiture.marque }} {{ reparation.voiture.modele }}</h3>
  <p><strong>Immatriculation:</strong> {{ reparation.voiture.immatriculation }}</p>
  <p><strong>Ann√©e:</strong> {{ reparation.voiture.annee }}</p>
  <p><strong>Probl√®me:</strong> {{ reparation.rendezVousId.description }}</p>
  <p><strong>Matricule m√©canicien:</strong> {{ reparation.rendezVousId.mecanicienId.matricule }}</p>

  <!-- Statut -->
  <div class="flex gap">
    <label class="block font-semibold mt-2">Statut :</label>
    <p-tag 
      [value]="reparation.statut" 
      [severity]="getSeverity(reparation.statut)" 
      class="mt-1">
    </p-tag>
  </div>

  <!-- Pi√®ces remplac√©es -->
  <h4 class="mt-4 font-semibold">Pi√®ces remplac√©es :</h4>
  <ul>
    <li *ngFor="let piece of reparation.piecesRemplacees; let i = index" class="flex justify-between items-center">
      <span class="flex items-center">
        <svg class="w-5 h-5 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9.75 21h4.5m-2.25-7.5V21m-8.25 0h16.5m-4.5-8.25a4.5 4.5 0 10-9 0 4.5 4.5 0 009 0zm0 0V9a4.5 4.5 0 10-9 0v3.75">
          </path>
        </svg>
        {{ piece.partId.name }} - {{ piece.partId.price | currency:'MGA' }} (x{{ piece.quantite }})
      </span>
    </li>
  </ul>

  <p class="mt-4 font-bold">üí∞ Facture totale: {{ reparation.factureTotale | currency:'MGA' }}</p>

  <div class="flex justify-between mt-4">
    <button (click)="ref.close()" class="p-button p-button-text p-button-danger flex items-center underline" [disabled]="loading">
      Fermer
    </button>
  </div>
</div>